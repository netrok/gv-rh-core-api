<?xml version="1.0" encoding="UTF-8"?>
<!-- Ficha de empleado - GV RH -->
<jasperReport
        xmlns="http://jasperreports.sourceforge.net/jasperreports"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
        name="empleado_ficha"
        pageWidth="595"
        pageHeight="842"
        columnWidth="555"
        leftMargin="20"
        rightMargin="20"
        topMargin="20"
        bottomMargin="20"
        uuid="11111111-2222-3333-4444-555555555555">

    <!-- ============================
         PARAMETROS
         ============================ -->
    <parameter name="LOGO_PATH" class="java.lang.String"/>
    <parameter name="FOTO_PATH" class="java.lang.String"/>

    <!-- ============================
         CAMPOS (EmpleadoFichaDto)
         ============================ -->
    <field name="id" class="java.lang.Long"/>
    <field name="numEmpleado" class="java.lang.String"/>
    <field name="nombresCompletos" class="java.lang.String"/>
    <field name="puesto" class="java.lang.String"/>
    <field name="departamento" class="java.lang.String"/>
    <field name="fechaIngreso" class="java.time.LocalDate"/>
    <field name="telefono" class="java.lang.String"/>
    <field name="email" class="java.lang.String"/>
    <field name="curp" class="java.lang.String"/>
    <field name="rfc" class="java.lang.String"/>
    <field name="nss" class="java.lang.String"/>
    <field name="direccionCompleta" class="java.lang.String"/>
    <field name="supervisorNombre" class="java.lang.String"/>

    <!-- ============================
         ESTILOS
         ============================ -->
    <style name="BaseStyle" isDefault="true" fontName="SansSerif" fontSize="10"/>

    <style name="TitleStyle" parent="BaseStyle" fontSize="18" isBold="true"/>
    <style name="SubtitleStyle" parent="BaseStyle" fontSize="11" isBold="true"/>

    <style name="SectionHeader" parent="BaseStyle" isBold="true" fontSize="11">
        <box>
            <pen lineWidth="0.5" lineColor="#CCCCCC"/>
            <topPen lineWidth="0.5" lineColor="#CCCCCC"/>
            <leftPen lineWidth="0.5" lineColor="#CCCCCC"/>
            <bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
            <rightPen lineWidth="0.5" lineColor="#CCCCCC"/>
        </box>
        <paragraph leftIndent="2"/>
        <font pdfFontName="Helvetica-Bold" isBold="true"/>
        <conditionalStyle>
            <conditionExpression><![CDATA[Boolean.TRUE]]></conditionExpression>
            <style backcolor="#F0F0F0" mode="Opaque"/>
        </conditionalStyle>
    </style>

    <style name="Label" parent="BaseStyle" isBold="true" fontSize="9"/>
    <style name="Value" parent="BaseStyle" fontSize="9"/>

    <style name="SmallGray" parent="BaseStyle" fontSize="8" forecolor="#666666"/>

    <!-- ============================
         CABECERA / TITULO
         ============================ -->
    <title>
        <band height="90">
            <!-- Logo -->
            <image>
                <reportElement x="0" y="0" width="80" height="50" uuid="a1111111-1111-1111-1111-111111111111"/>
                <imageExpression><![CDATA[$P{LOGO_PATH}]]></imageExpression>
            </image>

            <!-- Título -->
            <textField>
                <reportElement x="90" y="0" width="400" height="30" uuid="a2222222-2222-2222-2222-222222222222"/>
                <textElement textAlignment="Left" verticalAlignment="Middle">
                    <font size="18" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["Ficha de Empleado"]]></textFieldExpression>
            </textField>

            <!-- Subtítulo / empresa -->
            <textField>
                <reportElement x="90" y="30" width="400" height="15" uuid="a3333333-3333-3333-3333-333333333333"/>
                <textElement textAlignment="Left" verticalAlignment="Middle">
                    <font size="11" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["GV Sistemas - Recursos Humanos"]]></textFieldExpression>
            </textField>

            <!-- Línea separadora -->
            <line>
                <reportElement x="0" y="70" width="555" height="1" forecolor="#CCCCCC" uuid="a4444444-4444-4444-4444-444444444444"/>
            </line>
        </band>
    </title>

    <!-- ============================
         PIE DE PÁGINA
         ============================ -->
    <pageFooter>
        <band height="20">
            <!-- Fecha de impresión -->
            <textField pattern="dd/MM/yyyy HH:mm">
                <reportElement x="0" y="0" width="200" height="15" uuid="f1111111-1111-1111-1111-111111111111"/>
                <textElement style="SmallGray" verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
            </textField>

            <!-- Página X de Y -->
            <textField>
                <reportElement x="400" y="0" width="155" height="15" uuid="f2222222-2222-2222-2222-222222222222"/>
                <textElement style="SmallGray" textAlignment="Right" verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA["Página " + $V{PAGE_NUMBER} + " de"]]></textFieldExpression>
            </textField>
        </band>
    </pageFooter>

    <!-- ============================
         CUERPO PRINCIPAL
         ============================ -->
    <detail>
        <band height="500" splitType="Stretch">

            <!-- ========== FOTO (RESERVADO) ========== -->
            <!-- Si más adelante rellenas FOTO_PATH, puedes usar esta imagen -->
            <!--
            <image>
                <reportElement x="400" y="10" width="120" height="150" uuid="img-foto-emp" />
                <imageExpression><![CDATA[$P{FOTO_PATH}]]></imageExpression>
            </image>
            -->

            <!-- Sección: Datos generales -->
            <textField>
                <reportElement style="SectionHeader" x="0" y="10" width="350" height="18" uuid="s1111111-1111-1111-1111-111111111111"/>
                <textFieldExpression><![CDATA["Datos generales"]]></textFieldExpression>
            </textField>

            <!-- Número de empleado -->
            <staticText>
                <reportElement style="Label" x="0" y="35" width="120" height="12" uuid="l-num-emp"/>
                <text><![CDATA[Núm. Empleado:]]></text>
            </staticText>
            <textField>
                <reportElement style="Value" x="120" y="35" width="200" height="12" uuid="v-num-emp"/>
                <textFieldExpression><![CDATA[$F{numEmpleado}]]></textFieldExpression>
            </textField>

            <!-- Nombre completo -->
            <staticText>
                <reportElement style="Label" x="0" y="50" width="120" height="12" uuid="l-nombre"/>
                <text><![CDATA[Nombre completo:]]></text>
            </staticText>
            <textField>
                <reportElement style="Value" x="120" y="50" width="350" height="12" uuid="v-nombre"/>
                <textFieldExpression><![CDATA[$F{nombresCompletos}]]></textFieldExpression>
            </textField>

            <!-- Puesto -->
            <staticText>
                <reportElement style="Label" x="0" y="65" width="120" height="12" uuid="l-puesto"/>
                <text><![CDATA[Puesto:]]></text>
            </staticText>
            <textField>
                <reportElement style="Value" x="120" y="65" width="200" height="12" uuid="v-puesto"/>
                <textFieldExpression><![CDATA[$F{puesto} == null ? "" : $F{puesto}]]></textFieldExpression>
            </textField>

            <!-- Departamento -->
            <staticText>
                <reportElement style="Label" x="0" y="80" width="120" height="12" uuid="l-depto"/>
                <text><![CDATA[Departamento:]]></text>
            </staticText>
            <textField>
                <reportElement style="Value" x="120" y="80" width="200" height="12" uuid="v-depto"/>
                <textFieldExpression><![CDATA[$F{departamento} == null ? "" : $F{departamento}]]></textFieldExpression>
            </textField>

            <!-- Fecha de ingreso -->
            <staticText>
                <reportElement style="Label" x="0" y="95" width="120" height="12" uuid="l-fecha-ing"/>
                <text><![CDATA[Fecha de ingreso:]]></text>
            </staticText>
            <textField>
                <reportElement style="Value" x="120" y="95" width="200" height="12" uuid="v-fecha-ing"/>
                <textFieldExpression><![CDATA[$F{fechaIngreso} == null ? "" : $F{fechaIngreso}.toString()]]></textFieldExpression>
            </textField>

            <!-- Supervisor -->
            <staticText>
                <reportElement style="Label" x="0" y="110" width="120" height="12" uuid="l-supervisor"/>
                <text><![CDATA[Supervisor:]]></text>
            </staticText>
            <textField>
                <reportElement style="Value" x="120" y="110" width="350" height="12" uuid="v-supervisor"/>
                <textFieldExpression><![CDATA[$F{supervisorNombre} == null ? "" : $F{supervisorNombre}]]></textFieldExpression>
            </textField>

            <!-- Sección: Contacto -->
            <textField>
                <reportElement style="SectionHeader" x="0" y="140" width="350" height="18" uuid="s-contacto"/>
                <textFieldExpression><![CDATA["Datos de contacto"]]></textFieldExpression>
            </textField>

            <!-- Teléfono -->
            <staticText>
                <reportElement style="Label" x="0" y="165" width="120" height="12" uuid="l-tel"/>
                <text><![CDATA[Teléfono:]]></text>
            </staticText>
            <textField>
                <reportElement style="Value" x="120" y="165" width="200" height="12" uuid="v-tel"/>
                <textFieldExpression><![CDATA[$F{telefono} == null ? "" : $F{telefono}]]></textFieldExpression>
            </textField>

            <!-- Email -->
            <staticText>
                <reportElement style="Label" x="0" y="180" width="120" height="12" uuid="l-email"/>
                <text><![CDATA[Correo electrónico:]]></text>
            </staticText>
            <textField>
                <reportElement style="Value" x="120" y="180" width="300" height="12" uuid="v-email"/>
                <textFieldExpression><![CDATA[$F{email} == null ? "" : $F{email}]]></textFieldExpression>
            </textField>

            <!-- Dirección -->
            <staticText>
                <reportElement style="Label" x="0" y="195" width="120" height="12" uuid="l-dir"/>
                <text><![CDATA[Dirección:]]></text>
            </staticText>
            <textField isStretchWithOverflow="true">
                <reportElement style="Value" x="120" y="195" width="400" height="25" uuid="v-dir"/>
                <textFieldExpression><![CDATA[$F{direccionCompleta} == null ? "" : $F{direccionCompleta}]]></textFieldExpression>
            </textField>

            <!-- Sección: Datos fiscales / seguridad social -->
            <textField>
                <reportElement style="SectionHeader" x="0" y="235" width="350" height="18" uuid="s-fiscal"/>
                <textFieldExpression><![CDATA["Datos fiscales y de seguridad social"]]></textFieldExpression>
            </textField>

            <!-- CURP -->
            <staticText>
                <reportElement style="Label" x="0" y="260" width="120" height="12" uuid="l-curp"/>
                <text><![CDATA[CURP:]]></text>
            </staticText>
            <textField>
                <reportElement style="Value" x="120" y="260" width="250" height="12" uuid="v-curp"/>
                <textFieldExpression><![CDATA[$F{curp} == null ? "" : $F{curp}]]></textFieldExpression>
            </textField>

            <!-- RFC -->
            <staticText>
                <reportElement style="Label" x="0" y="275" width="120" height="12" uuid="l-rfc"/>
                <text><![CDATA[RFC:]]></text>
            </staticText>
            <textField>
                <reportElement style="Value" x="120" y="275" width="250" height="12" uuid="v-rfc"/>
                <textFieldExpression><![CDATA[$F{rfc} == null ? "" : $F{rfc}]]></textFieldExpression>
            </textField>

            <!-- NSS -->
            <staticText>
                <reportElement style="Label" x="0" y="290" width="120" height="12" uuid="l-nss"/>
                <text><![CDATA[NSS:]]></text>
            </staticText>
            <textField>
                <reportElement style="Value" x="120" y="290" width="250" height="12" uuid="v-nss"/>
                <textFieldExpression><![CDATA[$F{nss} == null ? "" : $F{nss}]]></textFieldExpression>
            </textField>

            <!-- Nota corporativa -->
            <textField>
                <reportElement style="SmallGray" x="0" y="330" width="555" height="20" uuid="note-hr"/>
                <textElement textAlignment="Left" verticalAlignment="Top"/>
                <textFieldExpression><![CDATA["Documento de uso interno de Recursos Humanos. La información contenida es confidencial y exclusiva para fines administrativos."]]></textFieldExpression>
            </textField>

        </band>
    </detail>

</jasperReport>
